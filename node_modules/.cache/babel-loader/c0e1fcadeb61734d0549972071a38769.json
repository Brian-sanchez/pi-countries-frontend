{"ast":null,"code":"var _jsxFileName = \"D:\\\\Cosas de Programacion\\\\Proyectos de Programacion\\\\Proyectos SoyHenry\\\\PI para hacer si o si henry\\\\Pi-countries 3\\\\PI-Countries-main\\\\client\\\\src\\\\components\\\\CreateActivity.jsx\",\n    _s = $RefreshSig$();\n\n//Aqui creamos la actividad con un post a activities. \nimport React from \"react\";\nimport axios from 'axios';\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getCountries, postActivity } from \"../actions/index.js\";\nimport style from \"./styles/CreateActivity.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CreateActivity = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const countries = useSelector(state => state.countries);\n  const history = useNavigate();\n  const [input, setInput] = useState({\n    name: '',\n    difficulty: '',\n    duration: '',\n    season: '',\n    countries: []\n  });\n  const [errors, setErrors] = useState({});\n\n  function handleChange(e) {\n    e.preventDefault();\n    setInput({ ...input,\n      [e.target.name]: e.target.value\n    });\n  }\n\n  function handleAddCountry(e) {\n    e.preventDefault();\n    setInput({ ...input,\n      [e.target.name]: [...input.countries, e.target.value]\n    });\n  }\n\n  function removeCountry(name) {\n    const filter = input.countries.filter(el => el !== name);\n    setInput({ ...input,\n      countries: filter\n    });\n  } //Validaciones\n\n\n  function validator(input) {\n    let errors = {};\n\n    if (input.name === '') {\n      errors.name = 'Name is required';\n    }\n\n    if (input.difficulty === '') {\n      errors.difficulty = 'Difficulty is required';\n    }\n\n    if (input.duration === '') {\n      errors.duration = 'Duration is required';\n    }\n\n    if (input.season === '') {\n      errors.season = 'Season is required';\n    }\n\n    if (input.countries.length === 0) {\n      errors.countries = 'At least one Country is required';\n    }\n\n    console.log(errors);\n    return errors;\n  } //Submit\n\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    const validacion = validator(input);\n\n    if (Object.keys(validacion).length === 0) {\n      const post = await axios.post('http://localhost:3001/api/activity', input);\n      alert(post.data.message);\n      history.push('/home');\n    } else {\n      setErrors(validacion);\n    }\n  }\n\n  useEffect(() => {\n    dispatch(getCountries());\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.container,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: style.form,\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.field,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          placeholder: \"Activity Name\",\n          value: input.name,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this), errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: style.error,\n        children: errors.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.field,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Difficulty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: style.select,\n          name: \"difficulty\",\n          defaultValue: \"Select\",\n          onChange: handleChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            disabled: true,\n            children: \"Select\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this), errors.difficulty && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: style.error,\n        children: errors.difficulty\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 35\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.field,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Duration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"duration\",\n          placeholder: \"Duration\",\n          value: input.duration,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }, this), errors.duration && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: style.error,\n        children: errors.duration\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 33\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.field,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Season\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: style.select,\n          name: \"season\",\n          defaultValue: \"Select\",\n          onChange: handleChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            disabled: true,\n            children: \"Select\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Summer\",\n            children: \"Summer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Autumn\",\n            children: \"Autumn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Winter\",\n            children: \"Winter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Spring\",\n            children: \"Spring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }, this), errors.season && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: style.error,\n        children: errors.season\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.field,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Countries\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: style.select,\n          name: \"countries\",\n          defaultValue: \"Select\",\n          onChange: handleAddCountry,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            disabled: true,\n            children: \"Select\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 21\n          }, this), countries.length > 0 && countries.map(country => /*#__PURE__*/_jsxDEV(\"option\", {\n            itemType: \"checkbox\",\n            children: country.name\n          }, country.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }, this), errors.countries && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: style.error,\n        children: errors.countries\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.containercountrys,\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Countrys Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.containercountries,\n          children: input.countries.length > 0 && input.countries.map((country, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: style.country,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: country\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => removeCountry(country),\n              children: \"X\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 29\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.containerbtn,\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Create Activity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CreateActivity, \"Jotk/AHcNVgvj1Mi3xFSLaE4bcY=\", false, function () {\n  return [useDispatch, useSelector, useNavigate];\n});\n\n_c = CreateActivity;\nexport default CreateActivity;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateActivity\");","map":{"version":3,"sources":["D:/Cosas de Programacion/Proyectos de Programacion/Proyectos SoyHenry/PI para hacer si o si henry/Pi-countries 3/PI-Countries-main/client/src/components/CreateActivity.jsx"],"names":["React","axios","Link","useNavigate","useState","useEffect","useDispatch","useSelector","getCountries","postActivity","style","CreateActivity","dispatch","countries","state","history","input","setInput","name","difficulty","duration","season","errors","setErrors","handleChange","e","preventDefault","target","value","handleAddCountry","removeCountry","filter","el","validator","length","console","log","handleSubmit","validacion","Object","keys","post","alert","data","message","push","container","form","field","error","select","map","country","id","containercountrys","containercountries","index","containerbtn"],"mappings":";;;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,WAAf,QAAkC,kBAAlC;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,YAAT,EAAuBC,YAAvB,QAA2C,qBAA3C;AAEA,OAAOC,KAAP,MAAkB,6BAAlB;;;AAEA,MAAMC,cAAc,GAAG,MAAM;AAAA;;AACzB,QAAMC,QAAQ,GAAGN,WAAW,EAA5B;AACA,QAAMO,SAAS,GAAGN,WAAW,CAACO,KAAK,IAAIA,KAAK,CAACD,SAAhB,CAA7B;AACA,QAAME,OAAO,GAAGZ,WAAW,EAA3B;AAEA,QAAM,CAACa,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC;AAC/Bc,IAAAA,IAAI,EAAE,EADyB;AAE/BC,IAAAA,UAAU,EAAE,EAFmB;AAG/BC,IAAAA,QAAQ,EAAE,EAHqB;AAI/BC,IAAAA,MAAM,EAAE,EAJuB;AAK/BR,IAAAA,SAAS,EAAE;AALoB,GAAD,CAAlC;AAOA,QAAM,CAACS,MAAD,EAASC,SAAT,IAAsBnB,QAAQ,CAAC,EAAD,CAApC;;AAEA,WAASoB,YAAT,CAAsBC,CAAtB,EAAwB;AACpBA,IAAAA,CAAC,CAACC,cAAF;AACAT,IAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAW,OAACS,CAAC,CAACE,MAAF,CAAST,IAAV,GAAgBO,CAAC,CAACE,MAAF,CAASC;AAApC,KAAD,CAAR;AACH;;AAED,WAASC,gBAAT,CAA0BJ,CAA1B,EAA4B;AACxBA,IAAAA,CAAC,CAACC,cAAF;AACAT,IAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAW,OAACS,CAAC,CAACE,MAAF,CAAST,IAAV,GAAgB,CAAC,GAAGF,KAAK,CAACH,SAAV,EAAqBY,CAAC,CAACE,MAAF,CAASC,KAA9B;AAA3B,KAAD,CAAR;AACH;;AAED,WAASE,aAAT,CAAuBZ,IAAvB,EAA4B;AACxB,UAAMa,MAAM,GAAGf,KAAK,CAACH,SAAN,CAAgBkB,MAAhB,CAAuBC,EAAE,IAAIA,EAAE,KAAKd,IAApC,CAAf;AACAD,IAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAWH,MAAAA,SAAS,EAAEkB;AAAtB,KAAD,CAAR;AACH,GA3BwB,CA6BzB;;;AACA,WAASE,SAAT,CAAmBjB,KAAnB,EAAyB;AACrB,QAAIM,MAAM,GAAG,EAAb;;AAEA,QAAGN,KAAK,CAACE,IAAN,KAAe,EAAlB,EAAqB;AACjBI,MAAAA,MAAM,CAACJ,IAAP,GAAc,kBAAd;AACH;;AACD,QAAGF,KAAK,CAACG,UAAN,KAAqB,EAAxB,EAA2B;AACvBG,MAAAA,MAAM,CAACH,UAAP,GAAoB,wBAApB;AACH;;AACD,QAAGH,KAAK,CAACI,QAAN,KAAmB,EAAtB,EAAyB;AACrBE,MAAAA,MAAM,CAACF,QAAP,GAAkB,sBAAlB;AACH;;AACD,QAAGJ,KAAK,CAACK,MAAN,KAAiB,EAApB,EAAuB;AACnBC,MAAAA,MAAM,CAACD,MAAP,GAAgB,oBAAhB;AACH;;AACD,QAAGL,KAAK,CAACH,SAAN,CAAgBqB,MAAhB,KAA2B,CAA9B,EAAgC;AAC5BZ,MAAAA,MAAM,CAACT,SAAP,GAAmB,kCAAnB;AACH;;AACDsB,IAAAA,OAAO,CAACC,GAAR,CAAYd,MAAZ;AACA,WAAOA,MAAP;AACH,GAlDwB,CAoDzB;;;AACA,iBAAee,YAAf,CAA4BZ,CAA5B,EAA8B;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMY,UAAU,GAAGL,SAAS,CAACjB,KAAD,CAA5B;;AACA,QAAGuB,MAAM,CAACC,IAAP,CAAYF,UAAZ,EAAwBJ,MAAxB,KAAmC,CAAtC,EAAwC;AACpC,YAAMO,IAAI,GAAG,MAAMxC,KAAK,CAACwC,IAAN,CAAW,oCAAX,EAAiDzB,KAAjD,CAAnB;AACA0B,MAAAA,KAAK,CAACD,IAAI,CAACE,IAAL,CAAUC,OAAX,CAAL;AACA7B,MAAAA,OAAO,CAAC8B,IAAR,CAAa,OAAb;AACH,KAJD,MAIM;AACFtB,MAAAA,SAAS,CAACe,UAAD,CAAT;AACH;AACJ;;AAEDjC,EAAAA,SAAS,CAAC,MAAI;AACVO,IAAAA,QAAQ,CAACJ,YAAY,EAAb,CAAR;AACH,GAFQ,EAEN,CAACI,QAAD,CAFM,CAAT;AAIF,sBACE;AAAK,IAAA,SAAS,EAAEF,KAAK,CAACoC,SAAtB;AAAA,2BACI;AAAM,MAAA,SAAS,EAAEpC,KAAK,CAACqC,IAAvB;AAA6B,MAAA,QAAQ,EAAEV,YAAvC;AAAA,8BAEI;AAAK,QAAA,SAAS,EAAE3B,KAAK,CAACsC,KAAtB;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AACA,UAAA,IAAI,EAAC,MADL;AAEA,UAAA,IAAI,EAAC,MAFL;AAGA,UAAA,WAAW,EAAC,eAHZ;AAIA,UAAA,KAAK,EAAEhC,KAAK,CAACE,IAJb;AAKA,UAAA,QAAQ,EAAEM;AALV;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,EAYKF,MAAM,CAACJ,IAAP,iBAAe;AAAG,QAAA,SAAS,EAAER,KAAK,CAACuC,KAApB;AAAA,kBAA4B3B,MAAM,CAACJ;AAAnC;AAAA;AAAA;AAAA;AAAA,cAZpB,eAeI;AAAK,QAAA,SAAS,EAAER,KAAK,CAACsC,KAAtB;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAQ,UAAA,SAAS,EAAEtC,KAAK,CAACwC,MAAzB;AAAiC,UAAA,IAAI,EAAC,YAAtC;AAAmD,UAAA,YAAY,EAAC,QAAhE;AAAyE,UAAA,QAAQ,EAAE1B,YAAnF;AAAA,kCACI;AAAQ,YAAA,QAAQ,EAAE,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAfJ,EA0BKF,MAAM,CAACH,UAAP,iBAAqB;AAAG,QAAA,SAAS,EAAET,KAAK,CAACuC,KAApB;AAAA,kBAA4B3B,MAAM,CAACH;AAAnC;AAAA;AAAA;AAAA;AAAA,cA1B1B,eA6BI;AAAK,QAAA,SAAS,EAAET,KAAK,CAACsC,KAAtB;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AACA,UAAA,IAAI,EAAC,MADL;AAEA,UAAA,IAAI,EAAC,UAFL;AAGA,UAAA,WAAW,EAAC,UAHZ;AAIA,UAAA,KAAK,EAAEhC,KAAK,CAACI,QAJb;AAKA,UAAA,QAAQ,EAAEI;AALV;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cA7BJ,EAuCKF,MAAM,CAACF,QAAP,iBAAmB;AAAG,QAAA,SAAS,EAAEV,KAAK,CAACuC,KAApB;AAAA,kBAA4B3B,MAAM,CAACF;AAAnC;AAAA;AAAA;AAAA;AAAA,cAvCxB,eA0CI;AAAK,QAAA,SAAS,EAAEV,KAAK,CAACsC,KAAtB;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAQ,UAAA,SAAS,EAAEtC,KAAK,CAACwC,MAAzB;AAAiC,UAAA,IAAI,EAAC,QAAtC;AAA+C,UAAA,YAAY,EAAC,QAA5D;AAAqE,UAAA,QAAQ,EAAE1B,YAA/E;AAAA,kCACI;AAAQ,YAAA,QAAQ,EAAE,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAQ,YAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAQ,YAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAII;AAAQ,YAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJJ,eAKI;AAAQ,YAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cA1CJ,EAoDKF,MAAM,CAACD,MAAP,iBAAiB;AAAG,QAAA,SAAS,EAAEX,KAAK,CAACuC,KAApB;AAAA,kBAA4B3B,MAAM,CAACD;AAAnC;AAAA;AAAA;AAAA;AAAA,cApDtB,eAuDI;AAAK,QAAA,SAAS,EAAEX,KAAK,CAACsC,KAAtB;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAQ,UAAA,SAAS,EAAEtC,KAAK,CAACwC,MAAzB;AAAiC,UAAA,IAAI,EAAC,WAAtC;AAAkD,UAAA,YAAY,EAAC,QAA/D;AAAwE,UAAA,QAAQ,EAAErB,gBAAlF;AAAA,kCACI;AAAQ,YAAA,QAAQ,EAAE,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEKhB,SAAS,CAACqB,MAAV,GAAmB,CAAnB,IACGrB,SAAS,CAACsC,GAAV,CAAcC,OAAO,iBACjB;AAAQ,YAAA,QAAQ,EAAC,UAAjB;AAAA,sBAA8CA,OAAO,CAAClC;AAAtD,aAAiCkC,OAAO,CAACC,EAAzC;AAAA;AAAA;AAAA;AAAA,kBADJ,CAHR;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAvDJ,EAkEK/B,MAAM,CAACT,SAAP,iBAAoB;AAAG,QAAA,SAAS,EAAEH,KAAK,CAACuC,KAApB;AAAA,kBAA4B3B,MAAM,CAACT;AAAnC;AAAA;AAAA;AAAA;AAAA,cAlEzB,eAoEI;AAAK,QAAA,SAAS,EAAEH,KAAK,CAAC4C,iBAAtB;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAK,UAAA,SAAS,EAAE5C,KAAK,CAAC6C,kBAAtB;AAAA,oBACCvC,KAAK,CAACH,SAAN,CAAgBqB,MAAhB,GAAyB,CAAzB,IACGlB,KAAK,CAACH,SAAN,CAAgBsC,GAAhB,CAAoB,CAACC,OAAD,EAAUI,KAAV,kBAChB;AAAK,YAAA,SAAS,EAAE9C,KAAK,CAAC0C,OAAtB;AAAA,oCACI;AAAA,wBAAIA;AAAJ;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAQ,cAAA,IAAI,EAAC,QAAb;AAAsB,cAAA,OAAO,EAAE,MAAKtB,aAAa,CAACsB,OAAD,CAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA,aAAoCI,KAApC;AAAA;AAAA;AAAA;AAAA,kBADJ;AAFJ;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cApEJ,eAkFI;AAAK,QAAA,SAAS,EAAE9C,KAAK,CAAC+C,YAAtB;AAAA,+BACI;AACI,UAAA,IAAI,EAAC,QADT;AAEI,UAAA,KAAK,EAAC;AAFV;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAlFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADF;AA6FD,CAlKD;;GAAM9C,c;UACeL,W,EACCC,W,EACFJ,W;;;KAHdQ,c;AAoKN,eAAeA,cAAf","sourcesContent":["//Aqui creamos la actividad con un post a activities. \r\nimport React from \"react\";\r\nimport axios from 'axios'\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getCountries, postActivity } from \"../actions/index.js\";\r\n\r\nimport style from \"./styles/CreateActivity.css\";\r\n\r\nconst CreateActivity = () => {\r\n    const dispatch = useDispatch()\r\n    const countries = useSelector(state => state.countries)\r\n    const history = useNavigate()\r\n\r\n    const [input, setInput] = useState({\r\n        name: '',\r\n        difficulty: '',\r\n        duration: '',\r\n        season: '',\r\n        countries: []\r\n    })\r\n    const [errors, setErrors] = useState({})\r\n\r\n    function handleChange(e){\r\n        e.preventDefault()\r\n        setInput({...input, [e.target.name]:e.target.value})\r\n    }\r\n\r\n    function handleAddCountry(e){\r\n        e.preventDefault()\r\n        setInput({...input, [e.target.name]:[...input.countries, e.target.value]})\r\n    }\r\n\r\n    function removeCountry(name){\r\n        const filter = input.countries.filter(el => el !== name)\r\n        setInput({...input, countries: filter})\r\n    }\r\n\r\n    //Validaciones\r\n    function validator(input){\r\n        let errors = {}\r\n\r\n        if(input.name === ''){\r\n            errors.name = 'Name is required'\r\n        }\r\n        if(input.difficulty === ''){\r\n            errors.difficulty = 'Difficulty is required'\r\n        }\r\n        if(input.duration === ''){\r\n            errors.duration = 'Duration is required'\r\n        }\r\n        if(input.season === ''){\r\n            errors.season = 'Season is required'\r\n        }\r\n        if(input.countries.length === 0){\r\n            errors.countries = 'At least one Country is required'\r\n        }\r\n        console.log(errors)\r\n        return errors\r\n    }\r\n\r\n    //Submit\r\n    async function handleSubmit(e){\r\n        e.preventDefault()\r\n        const validacion = validator(input)\r\n        if(Object.keys(validacion).length === 0){\r\n            const post = await axios.post('http://localhost:3001/api/activity', input)        \r\n            alert(post.data.message)\r\n            history.push('/home')\r\n        } else{\r\n            setErrors(validacion)\r\n        }           \r\n    }\r\n\r\n    useEffect(()=>{\r\n        dispatch(getCountries())\r\n    }, [dispatch])\r\n\r\n  return (\r\n    <div className={style.container}>\r\n        <form className={style.form} onSubmit={handleSubmit}>\r\n            \r\n            <div className={style.field}>\r\n                <label>Name</label>\r\n                <input\r\n                type='text'\r\n                name='name' \r\n                placeholder='Activity Name'\r\n                value={input.name}\r\n                onChange={handleChange}\r\n                />\r\n            </div>\r\n            {errors.name && <p className={style.error}>{errors.name}</p>}\r\n            \r\n            \r\n            <div className={style.field}>\r\n                <label>Difficulty</label>\r\n                <select className={style.select} name='difficulty' defaultValue='Select' onChange={handleChange}>\r\n                    <option disabled={true}>Select</option>\r\n                    <option>1</option>\r\n                    <option>2</option>\r\n                    <option>3</option>\r\n                    <option>4</option>\r\n                    <option>5</option>\r\n                </select>\r\n            </div>\r\n            {errors.difficulty && <p className={style.error}>{errors.difficulty}</p>}\r\n\r\n            \r\n            <div className={style.field}>\r\n                <label>Duration</label>\r\n                <input \r\n                type='text'\r\n                name='duration' \r\n                placeholder='Duration'\r\n                value={input.duration}\r\n                onChange={handleChange}            \r\n                />\r\n            </div>\r\n            {errors.duration && <p className={style.error}>{errors.duration}</p>}\r\n\r\n            \r\n            <div className={style.field}>\r\n                <label>Season</label>\r\n                <select className={style.select} name='season' defaultValue='Select' onChange={handleChange}>\r\n                    <option disabled={true}>Select</option>\r\n                    <option value='Summer'>Summer</option>\r\n                    <option value='Autumn'>Autumn</option>\r\n                    <option value='Winter'>Winter</option>\r\n                    <option value='Spring'>Spring</option>\r\n                </select>\r\n            </div>\r\n            {errors.season && <p className={style.error}>{errors.season}</p>}\r\n\r\n            \r\n            <div className={style.field}>\r\n                <label>Countries</label>\r\n                <select className={style.select} name='countries' defaultValue='Select' onChange={handleAddCountry}>\r\n                    <option disabled={true}>Select</option>\r\n                    {countries.length > 0 &&\r\n                        countries.map(country => (\r\n                            <option itemType='checkbox' key={country.id}>{country.name}</option>\r\n                        ))\r\n                    }\r\n                </select>\r\n            </div>\r\n            {errors.countries && <p className={style.error}>{errors.countries}</p>}\r\n            \r\n            <div className={style.containercountrys}>\r\n                <h4>Countrys Add</h4>\r\n                <div className={style.containercountries}>\r\n                {input.countries.length > 0 &&\r\n                    input.countries.map((country, index) => (\r\n                        <div className={style.country} key={index}>\r\n                            <p>{country}</p>\r\n                            <button type='button' onClick={()=> removeCountry(country)}>X</button>\r\n                        </div>\r\n                    ))\r\n                }\r\n                </div>\r\n            </div>\r\n            \r\n            <div className={style.containerbtn}>\r\n                <input \r\n                    type='submit'\r\n                    value='Create Activity'\r\n                />\r\n            </div>\r\n        </form>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default CreateActivity;"]},"metadata":{},"sourceType":"module"}